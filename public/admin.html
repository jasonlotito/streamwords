<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>StreamWords Admin</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"
          integrity="sha256-eTyxS0rkjpLEo16uXTS0uVCS4815lc40K2iVpWDvdSY=" crossorigin="anonymous"></script>
  <script src="./js/vendor/nfapiwrapper.js"></script>
  <script src="https://js.pusher.com/3.0/pusher.min.js"></script>

  <script src="webSocket.js"></script>

  <style>
      * {
          font-family: sans-serif;
          font-size: 16px;
      }

      input, select, button {
          padding: 5px 10px;
          font-size: 16px;
      }

      button {
          cursor: pointer;
      }

      label {
          display: inline-block;
          /*width: 200px;*/
      }

      fieldset {
          margin-top: 10px;
          display: flex;
          flex-direction: column;
          row-gap: 20px;
          border-radius: 10px;
          border-width: 10px;
          border-bottom-style: ridge;
          border-right-style: ridge;
          border-top-style: groove;
          border-left-style: groove;
      }

      fieldset.buttons {
          flex-direction: row;
          gap: 10px;
      }

      h1 {
          font-size: 2.2em;
          font-weight: bold;
          /*color: #fff;*/
          text-align: center;
      }

      legend {
          font-size: 2em;
          font-weight: bold;
      }

      #debugArea {
          display: none;
      }

      .deleteHistory {
          background-color: transparent;
          border: 0;
      }

      body {
          /*background-color: #333;*/
      }

      .main {
          /*background-color: #fff;*/
          /*padding: 20px;*/
          /*border-radius: 50px 50px 0 0;*/
      }

      body {
          display: grid;
          grid-gap: 1em;
          grid: 'header' auto
                'main' 1fr
                'footer' auto
              / 1fr;
      }

      @media (min-width: 40em) {
          .main {
              display: grid;
              grid-gap: 1em;
              grid: 'manage leaders words'
              / 2fr 1fr 1fr;
          }
      }

      header {
          grid-area: header;
      }

      .main {
          grid-area: main;
      }

      section.manage {
          grid-area: manage;
      }

      section.info {
          grid-area: info;
      }

      footer {
          grid-area: footer;
      }

      @media (prefers-color-scheme: dark) {
          body {
              background-color: #3c3f41;
              color: #e9e9ea;
          }
      }

      .leaders, .words {
          display: none;
      }

      #errorContainer {
          border: 4px solid red;
          background: rgb(100,0,0);
          color: #ddd;
          font-weight: bold;
          border-radius: 10px;
          padding: 10px 20px;
          display: none;
      }
  </style>
</head>
<body>
<header>
  <h1>StreamWords Manager</h1>
</header>
<div class="main">
  <section class="manage">

    <div id="errorContainer"></div>
    <form action="setWord" id="frmSetWord">
      <fieldset>
        <legend>Set Word</legend>
        <span>
          <label for="frmSetWordWord">Set Word</label>
          <input type="text" name="word" id="frmSetWordWord" autocomplete="false">
          <p>Recommended to keep the number of letters fewer than 8.</p>
        </span>
        <span>
          <button type="submit" id="setWordButton">Set Word</button>
        </span>
      </fieldset>
    </form>
    <form action="setRandomWord" id="frmRandomWord">
      <fieldset>
        <legend>Set Random Word</legend>
        <span>
          <label for="wordListDictionary">Word List</label>
          <select id="wordListDictionary">
            <option value="English">English (Suggested)</option>
            <option value="American">American</option>
            <option value="Australian">Australian</option>
            <option value="British">British</option>
            <option value="Canadian">Canadian</option>
          </select>
        </span>
        <span>
          <label for="hideWordFromStreamer">Hide Word From Me</label>
          <input type="checkbox" name="hideWord" id="hideWordFromStreamer">
        </span>
        <span>
          <p>Will pick a random word between 4-6 characters long. Makes
          for the best games!</p>
        </span>
        <span>
          <button type="submit" id="setRandomWord">Set Random Word</button>
        </span>
      </fieldset>
    </form>

    <fieldset class="buttons">
      <legend>Manage</legend>
      <button type="submit" name="message" value="clear" id="btnClear">Clear Board</button>
      <button type="submit" name="message" value="login" id="btnLogin">Login</button>
    </fieldset>

    <form>
      <fieldset>
        <legend>Game Config</legend>
        <span>
          <label for="pointsForWin">Points For Win</label>
          <input type="number" id="pointsForWin" value="10">
        </span>
        <span>
          <button type="submit">Set Points</button>
        </span>
      </fieldset>
    </form>
    <a href="" id="__refresh"></a>

  </section>

  <section class="leaders">
    <span id="manageResult"></span>
    <h2>Last 10 Winners</h2>
    <ul id="winnerList">

    </ul>
  </section>
  <section class="words">
    <h2>Word History</h2>
    <ul id="wordList">
    </ul>
  </section>


  <section id="debugArea">
    <h1>Admin</h1>
    <form id="form" onsubmit="return false;">
      <fieldset>
        <legend>All messages</legend>
        <span>
    <label for="messageType">
      Message Type:
    </label>
      <select id="messageType">
        <option value="join">join</option>
        <option value="setWord">setWord</option>
      </select>
    </span>
        <span>
        <label for="messageValue">
        Message Value:
        </label>
        <input type="text" name="name" placeholder="younow name" id="messageValue" value="jasonml">

    </span>
        <span>
      <button id="btnSendMessage">Send Message</button>
    </span>
      </fieldset>

    </form>
  </section>
</div>


<footer></footer>
<script src="/socket.io/socket.io.js"></script>
<script type="module">
    import {setWord, setClearBoardButton, setLoginButton, setErrorContainer, setRandomWord} from './js/admin.js';

    setWord($('#frmSetWord'));
    setRandomWord($('#frmRandomWord'), $('#wordListDictionary'), $('#hideWordFromStreamer'))
    setErrorContainer($('#errorContainer'));
    setClearBoardButton($('#btnClear'));
    setClearBoardButton($('#btnLogin'));
    setLoginButton($('#btnLogin'))

    watchChatById('48832442', (...args) => {
        console.log(args);
    })
</script>
</body>
</html>
